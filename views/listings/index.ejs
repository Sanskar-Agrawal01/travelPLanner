<% layout('layouts/boilerplate') %>
<body class="bg-gray-50 font-sans min-h-screen">
  <div class="max-w-7xl mx-auto px-6 py-10">
    <!-- Listings Grid -->
    <div
      class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"
    >
      <% for(let listing of listings){ %>
      <a href="/listings/<%= listing._id %>" class="block group">
        <div class="rounded-xl overflow-hidden bg-white">
          <!-- Image -->
          <div class="h-64 w-full overflow-hidden rounded-xl">
            <img
              src="<%= listing.image.url %>"
              alt="<%= listing.title %>"
              class="w-full h-full object-cover group-hover:scale-105 transition duration-300"
            />
          </div>

          <!-- Content -->
          <div class="mt-3 space-y-1">
            <!-- Location & Country -->
            <p class="text-gray-800 font-medium text-base">
              <%= listing.location %>, <%= listing.country %>
            </p>
            <!-- Title -->
            <h2 class="text-gray-600 text-sm truncate"><%= listing.title %></h2>
            <!-- Price -->
            <% if(listing.price) { %>
            <p class="text-gray-900 font-semibold">
              â‚¹<%= Number(listing.price).toLocaleString("en-IN") %> night
            </p>
            <% } else { %>
            <p class="text-gray-900 font-semibold">Price not available</p>
            <% } %>
          </div>
        </div>
      </a>
      <% } %>
    </div>
  </div>
</body>
